<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head><meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" type="text/css" href="../../res/Products.RiplaLayout/styles.css" />

    <title>Extendible Menu Service</title>
    
    <meta name="generator" content="Silva" />
    
    <link rel="shortcut icon" href="../../res/silva.core.layout.porto/favicon.ico" />

    <!-- Injector for on-the-fly inclusion -->
    


  </head>

  <body id="index">
    <div class="wrapper">
  <header>
    <h1 class="header">
        <a href="../.."
           title="Ripla [Top]">Ripla</a>  
    </h1>
    <p class="header">Rich Platform project for Java web applications.</p>
    <ul>
      <li class="download"><a class="buttons" href="http://aktion-hip.github.io/ripla/downloads/" target="_blank">Download Files</a></li>
      <li class="download"><a class="buttons" href="https://github.com/aktion-hip/ripla/zipball/master" target="_blank">Download ZIP</a></li>
      <li class="download"><a class="buttons" href="https://github.com/aktion-hip/ripla/tarball/master" target="_blank">Download TAR</a></li>
      <li><a class="buttons github" href="https://github.com/aktion-hip/ripla">View On GitHub</a></li>
    </ul>
    <p class="header">This project is maintained by <a class="header name" href="https://github.com/aktion-hip">aktion-hip</a></p>
  </header>
  
  <sidebar>
    <ul>
      <div class="navigation">
  <ul id="navigation-menu" class="navigation-level-0">
    
      <li class="level-0">
        <a href="../../impl" title="Create Application">Create Application</a>
        
      </li>
    
    
      <li class="level-0 selected">
        <a href="../../extend" title="Extension Points" class="onbranch">Extension Points</a>
        
          
            <ul class="navigation-level-1">
    
      <li class="level-1">
        <a href="../../extend/usecase" title="Use Case Service">Use Case Service</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="../../extend/skin" title="Skin Service">Skin Service</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="../../extend/toolbar" title="Toolbar Service">Toolbar Service</a>
        
      </li>
    
    
      <li class="level-1 selected">
        <a href="../../extend/extendible" title="Extendible Menu Service" class="onbranch">Extendible Menu Service</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="../../extend/permission" title="Permission Service">Permission Service</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="../../extend/useadmin" title="User Administration Service">User Administration Service</a>
        
      </li>
    
  </ul>
          
        
      </li>
    
    
      <li class="level-0">
        <a href="../../demo" title="Ripla Demo Application">Ripla Demo Application</a>
        
      </li>
    
    
      <li class="level-0">
        <a href="../../downloads" title="Downloads">Downloads</a>
        
      </li>
    
  </ul>
</div>

    </ul>    
  </sidebar>
  
  <section>
  <h1>Extendible Menu Service</h1>
  <p> As mentioned elsewhere, each use case bundle provides its menu to the application's main menu bar. Such a menu consists of at least one menu item, the menu root node, which is displayed on the menu bar. If the menu is more elaborated, the menu contains many menu items on various submenus. Such a use case menu is completely controlled by it's use case.</p>

<p>An <em>extendible menu</em> is a different kind of menu. In this case, the use case only provides the skeleton of the menu and leaves it open to other bundles to contribute their menu items to the same menu.</p>

<p> The Demo application's <em>Configuration</em> menu is an example of such an extendible menu.</p>

<h3>Extendible Menu Creator</h3>

<p>An extendible menu has to be provided by a use case bundle. This bundle has to implement the <span class="underline">IUseCase.getMenu()</span> method (see <a class="link" title="Use Case Service" target="_self" href="../../extend/usecase">Use Case Service</a>) such that this method returns an extendible menu, i.e an implementation of <span class="underline">org.ripla.interfaces.IMenuExtendible</span>. The Ripla platform provides&#160;<span class="underline">org.ripla.web.menu.AbstractExtendibleMenu</span> as base class for extendible menus.</p>

<pre>public interface IMenuExtendible extends IMenuItem {&#160;&#160;&#160; 
&#160;&#160;&#160; String getMenuID();
&#160;&#160;&#160; ExtendibleMenuMarker[] getMarkers();
}</pre>

<p><span class="underline">IMenuExtendible.getMenuID()</span> returns the menu's identification. Bundles that want to contribute to this extendible menu have to know its ID.</p>

<p><span class="underline">IMenuExtendible.getMarkers()</span> returns an array of <span class="underline">org.ripla.util.ExtendibleMenuMarker</span>s. With a menu marker, the extendible menu can define vertex points where menu contributions can be attached. An extendible menu can define a <em>start</em>, <em>additions</em> and <em>end</em> vertex point for example. Bundles that want to contribute items to this menu position their contributions either <em>before</em>, <em>after</em> or <em>appending</em> to one of this markers. Menu markers, therefore, provide a tool to position the menu contributions provided by different bundles.<br></p>

<h3>Extendible Menu Contributor</h3>

<p>Bundles that want to provide contributions to an extendible menu have to implement service providers for <span class="underline">org.ripla.services.IExtendibleMenuContribution</span>.<br></p>

<pre>public interface IExtendibleMenuContribution extends IMenuElement {
&#160;&#160;&#160; String getExtendibleMenuID();
&#160;&#160;&#160; ExtendibleMenuMarker.Position getPosition();&#160;&#160;&#160; 
}</pre>

<p><span class="underline">IExtendibleMenuContribution.getExtendibleMenuID()</span> return the ID of the extendible menu this item is provided for.</p>

<p><span class="underline">IExtendibleMenuContribution.getPosition()</span> returns the position within the extendible menu this menu is provided for, e.g.</p>

<pre>public class SampleMenu implements IExtendibleMenuContribution {
&#160;&#160;&#160; public String getExtendibleMenuID() {
&#160;&#160;&#160; &#160;&#160;&#160; return "org.ripla.web.demo.extendible";
&#160;&#160;&#160; }
&#160;&#160;&#160; public Position getPosition() {
&#160;&#160;&#160; &#160;&#160;&#160; return new Position(PositionType.APPEND, "start");
&#160;&#160;&#160; }
//...
}
</pre>

<p> In this example, the <span class="underline">SampleMenu</span> item contributes to the extendible menu identified by <span class="underline">org.ripla.web.demo.extendible</span>. The item is appended to the <em>start</em> marker.<br></p>

</section>

  <footer>
    <p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
  </footer>
</div>
<!--[if !IE]><script>fixScale(document);</script><!--<![endif]-->
  
  </body>
</html>
