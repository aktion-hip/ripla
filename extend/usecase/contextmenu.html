<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head><meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" type="text/css" href="../../res/Products.RiplaLayout/styles.css" />

    <title>Context Menu IMenuSet</title>
    
    <meta name="generator" content="Silva" />
    
    <link rel="shortcut icon" href="../../res/silva.core.layout.porto/favicon.ico" />

    <!-- Injector for on-the-fly inclusion -->
    


  </head>

  <body id="contextmenu">
    <div class="wrapper">
  <header>
    <h1 class="header">
        <a href="../.."
           title="Ripla [Top]">Ripla</a>  
    </h1>
    <p class="header">Rich Platform project for Java web applications.</p>
    <ul>
      <li class="download"><a class="buttons" href="http://aktion-hip.github.io/ripla/downloads/" target="_blank">Download Files</a></li>
      <li class="download"><a class="buttons" href="https://github.com/aktion-hip/ripla/zipball/master" target="_blank">Download ZIP</a></li>
      <li class="download"><a class="buttons" href="https://github.com/aktion-hip/ripla/tarball/master" target="_blank">Download TAR</a></li>
      <li><a class="buttons github" href="https://github.com/aktion-hip/ripla">View On GitHub</a></li>
    </ul>
    <p class="header">This project is maintained by <a class="header name" href="https://github.com/aktion-hip">aktion-hip</a></p>
  </header>
  
  <sidebar>
    <ul>
      <div class="navigation">
  <ul id="navigation-menu" class="navigation-level-0">
    
      <li class="level-0">
        <a href="../../impl" title="Create Application">Create Application</a>
        
      </li>
    
    
      <li class="level-0 selected">
        <a href="../../extend" title="Extension Points" class="onbranch">Extension Points</a>
        
          
            <ul class="navigation-level-1">
    
      <li class="level-1 selected">
        <a href="../../extend/usecase" title="Use Case Service" class="onbranch">Use Case Service</a>
        
          
            <ul class="navigation-level-2">
    
      <li class="level-2">
        <a href="../../extend/usecase/controller.html" title="Controller Class">Controller Class</a>
        
      </li>
    
    
      <li class="level-2">
        <a href="../../extend/usecase/mainmenu.html" title="Main Menu">Main Menu</a>
        
      </li>
    
    
      <li class="level-2 selected">
        <a href="../../extend/usecase/contextmenu.html" title="Context Menu" class="selected">Context Menu</a>
        
      </li>
    
  </ul>
          
        
      </li>
    
    
      <li class="level-1">
        <a href="../../extend/skin" title="Skin Service">Skin Service</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="../../extend/toolbar" title="Toolbar Service">Toolbar Service</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="../../extend/extendible" title="Extendible Menu Service">Extendible Menu Service</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="../../extend/permission" title="Permission Service">Permission Service</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="../../extend/useadmin" title="User Administration Service">User Administration Service</a>
        
      </li>
    
  </ul>
          
        
      </li>
    
    
      <li class="level-0">
        <a href="../../demo" title="Ripla Demo Application">Ripla Demo Application</a>
        
      </li>
    
    
      <li class="level-0">
        <a href="../../downloads" title="Downloads">Downloads</a>
        
      </li>
    
  </ul>
</div>

    </ul>    
  </sidebar>
  
  <section>
  <h1>Context Menu IMenuSet</h1>
  <p>A view represents a certain position a user has reached in the use case. The context menu offers a restricted set of actions (i.e. directions the user can move on) at the actual position.<br></p>

<p>Therefore, a view's context menu is a context menu set (<span class="underline">IMenuSet</span>) that consists of one or more context menu items (<span class="underline">IContextMenuItem</span>). (An empty menu set is an option too.) On the other side, the same context menu item can reside in different context menu sets.<br></p>

<pre>public interface IMenuSet {
&#160;&#160;&#160; String getSetID();
&#160;&#160;&#160; IContextMenuItem[] getContextMenuItems();
}
</pre>

<p>Each view's context menu is controlled by it's controller. To achieve this, each context menu set has to be uniquely identified (within the use case). With such an identification, the controller loads the suitable context menu set simply by calling its identification. These requirements define completely the interface of <span class="underline">org.ripla.web.interfaces.IMenuSet</span>. <span class="underline">IMenuSet.getSetID()</span> returns the context menu set's identification. <span class="underline">IMenuSet.getContextMenuItems()</span> returns a set of context menu item instances.</p>

<pre>public interface IContextMenuItem {
&#160;&#160;&#160; Class&lt;? extends IPluggable&gt; getControllerClass();
&#160;&#160;&#160; String getTitleMsg();
&#160;&#160;&#160; String getMenuPermission();
&#160;&#160;&#160; boolean checkConditions(User inUser, Authorization inAuthorization, ParameterObject inParameters);
}</pre>

<p>The context menu item has to define an action that has to be executed if the user clicks the context menu item. This is done by <span class="underline">IContextMenuItem.getControllerClass()</span>.</p>

<p><span class="underline">IContextMenuItem.getTitleMsg()</span> returns the label displayed by the context menu item.</p>

<p><span class="underline">IContextMenuItem.getMenuPermission()</span> controlles whether the context menu item is displayed or not. If a user doesn't 
have the permission to display a view, the corresponding menu item has 
to be hidden to prevent the activation of the view's controller. Returning the menu permission is the standard way to control the display of a context menu item. With <span class="underline">IContextMenuItem.checkConditions()</span>, you can implement an alternative and more elaborate way to controll the menu item's display. This control can be based on the actual user (<span class="underline">org.osgi.service.useradmin.User</span>), the authorization context (<span class="underline">org.osgi.service.useradmin.Authorization</span>) and arbitrary additional information passed by a <span class="underline">ParameterObject</span>.</p>

<p><span class="underline">org.ripla.web.menu.ContextMenuItem</span> provides a default implementation of <span class="underline">IContextMenuItem</span>. Bundles providing context menu items can create instances of this class. See <a class="link" title="The Context Menu" target="_self" href="../../impl/usecase/contextmenu">The Context Menu</a> for an example how to create a context menu set.<br></p>

</section>

  <footer>
    <p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
  </footer>
</div>
<!--[if !IE]><script>fixScale(document);</script><!--<![endif]-->
  
  </body>
</html>
