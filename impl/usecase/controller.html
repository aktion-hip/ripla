<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head><meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" type="text/css" href="../../res/Products.RiplaLayout/styles.css" />

    <title>Use Case Controller Class</title>
    
    <meta name="generator" content="Silva" />
    
    <link rel="shortcut icon" href="../../res/silva.core.layout.porto/favicon.ico" />

    <!-- Injector for on-the-fly inclusion -->
    


  </head>

  <body id="controller">
    <div class="wrapper">
  <header>
    <h1 class="header">
        <a href="../.."
           title="Ripla [Top]">Ripla</a>  
    </h1>
    <p class="header">Rich Platform project for Java web applications.</p>
    <ul>
      <li class="download"><a class="buttons" href="http://aktion-hip.github.io/ripla/downloads/" target="_blank">Download Files</a></li>
      <li class="download"><a class="buttons" href="https://github.com/aktion-hip/ripla/zipball/master" target="_blank">Download ZIP</a></li>
      <li class="download"><a class="buttons" href="https://github.com/aktion-hip/ripla/tarball/master" target="_blank">Download TAR</a></li>
      <li><a class="buttons github" href="https://github.com/aktion-hip/ripla">View On GitHub</a></li>
    </ul>
    <p class="header">This project is maintained by <a class="header name" href="https://github.com/aktion-hip">aktion-hip</a></p>
  </header>
  
  <sidebar>
    <ul>
      <div class="navigation">
  <ul id="navigation-menu" class="navigation-level-0">
    
      <li class="level-0 selected">
        <a href="../../impl" title="Create Application" class="onbranch">Create Application</a>
        
          
            <ul class="navigation-level-1">
    
      <li class="level-1">
        <a href="../../impl/app" title="Create an Application Bundle">Create an Application Bundle</a>
        
      </li>
    
    
      <li class="level-1 selected">
        <a href="../../impl/usecase" title="Use Case Bundle" class="onbranch">Use Case Bundle</a>
        
          
            <ul class="navigation-level-2">
    
      <li class="level-2">
        <a href="../../impl/usecase/usecase.html" title="Service Provider">Service Provider</a>
        
      </li>
    
    
      <li class="level-2">
        <a href="../../impl/usecase/ds.html" title="Component Description">Component Description</a>
        
      </li>
    
    
      <li class="level-2 selected">
        <a href="../../impl/usecase/controller.html" title="Controller Class" class="selected">Controller Class</a>
        
      </li>
    
    
      <li class="level-2">
        <a href="../../impl/usecase/viewcomponent.html" title="View Component">View Component</a>
        
      </li>
    
    
      <li class="level-2">
        <a href="../../impl/usecase/mainmenu.html" title="Main Menu">Main Menu</a>
        
      </li>
    
    
      <li class="level-2">
        <a href="../../impl/usecase/contextmenu.html" title="Context Menu">Context Menu</a>
        
      </li>
    
  </ul>
          
        
      </li>
    
    
      <li class="level-1">
        <a href="../../impl/skin" title="Ripla Skins">Ripla Skins</a>
        
      </li>
    
  </ul>
          
        
      </li>
    
    
      <li class="level-0">
        <a href="../../extend" title="Extension Points">Extension Points</a>
        
      </li>
    
    
      <li class="level-0">
        <a href="../../demo" title="Ripla Demo Application">Ripla Demo Application</a>
        
      </li>
    
    
      <li class="level-0">
        <a href="../../downloads" title="Downloads">Downloads</a>
        
      </li>
    
  </ul>
</div>

    </ul>    
  </sidebar>
  
  <section>
  <h1>Use Case Controller Class</h1>
  <p> The following snippet shows an example of a use case controller:</p>

<pre>@UseCaseController
public class InputWidgetsController extends AbstractController {
&#160;&#160;&#160; @Override
&#160;&#160;&#160; protected String needsPermission() {
&#160;&#160;&#160; &#160;&#160;&#160; return Constants.PERMISSION_INPUT_WIDGETS;
&#160;&#160;&#160; }
&#160;&#160;&#160; @Override
&#160;&#160;&#160; protected Component runChecked() throws RiplaException {
&#160;&#160;&#160; &#160;&#160;&#160; loadContextMenu(Constants.CONTEXT_MENU_SET_WIDGETS);

&#160;&#160;&#160; &#160;&#160;&#160; return new InputWidgetsView();
&#160;&#160;&#160; }
}
</pre>

<p>Because <span class="underline">org.ripla.web.controllers.AbstractController</span> implements <span class="underline">org.ripla.web.interfaces.IPluggable</span>, this controller implements the <span class="underline">IPluggable</span> interface implicitely and, therefore, is an eligible return value for <span class="underline">IUseCase.getControllerClasses()</span> and <span class="underline">IUseCase.getControllerSet()</span>. However, to be accepted as Ripla controller, the class has additionally to be annotated with <span class="underline">@UseCaseController</span>.</p>

<p>Before the controller returns the view, it checks the user's permissions. Permission
checking is done by returning the permission (i.e. a String) the user needs in the
method <span class="underline">Controller.needsPermission()</span>. If the application
has a <em>UserAmin</em> installed, the controller can ask the <em>UserAdmin</em>&#8217;s authorization
instance whether the actual user has the required permission. To allow an unrestricted access to the view, <span class="underline">Controller.needsPermission()</span> can return an empty string.</p>

<p>The controller's main method is <span class="underline">Controller.runChecked()</span>. In the example snippet, the context menu is loaded and the view is prepared and returned. This method is the place for the use case's business logic as well. For example, the controller may look up a data set and prepare the retrieved data for that it can be displayed in the view returned.<br></p>

</section>

  <footer>
    <p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
  </footer>
</div>
<!--[if !IE]><script>fixScale(document);</script><!--<![endif]-->
  
  </body>
</html>
