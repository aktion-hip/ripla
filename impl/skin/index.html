<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head><meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" type="text/css" href="../../res/Products.RiplaLayout/styles.css" />

    <title>Ripla Skins</title>
    
    <meta name="generator" content="Silva" />
    
    <link rel="shortcut icon" href="../../res/silva.core.layout.porto/favicon.ico" />

    <!-- Injector for on-the-fly inclusion -->
    


  </head>

  <body id="index">
    <div class="wrapper">
  <header>
    <h1 class="header">
        <a href="../.."
           title="Ripla [Top]">Ripla</a>  
    </h1>
    <p class="header">Rich Platform project for Java web applications.</p>
    <ul>
      <li class="download"><a class="buttons" href="http://aktion-hip.github.io/ripla/downloads/" target="_blank">Download Files</a></li>
      <li class="download"><a class="buttons" href="https://github.com/aktion-hip/ripla/zipball/master" target="_blank">Download ZIP</a></li>
      <li class="download"><a class="buttons" href="https://github.com/aktion-hip/ripla/tarball/master" target="_blank">Download TAR</a></li>
      <li><a class="buttons github" href="https://github.com/aktion-hip/ripla">View On GitHub</a></li>
    </ul>
    <p class="header">This project is maintained by <a class="header name" href="https://github.com/aktion-hip">aktion-hip</a></p>
  </header>
  
  <sidebar>
    <ul>
      <div class="navigation">
  <ul id="navigation-menu" class="navigation-level-0">
    
      <li class="level-0 selected">
        <a href="../../impl" title="Create Application" class="onbranch">Create Application</a>
        
          
            <ul class="navigation-level-1">
    
      <li class="level-1">
        <a href="../../impl/app" title="Create an Application Bundle">Create an Application Bundle</a>
        
      </li>
    
    
      <li class="level-1">
        <a href="../../impl/usecase" title="Use Case Bundle">Use Case Bundle</a>
        
      </li>
    
    
      <li class="level-1 selected">
        <a href="../../impl/skin" title="Ripla Skins" class="onbranch">Ripla Skins</a>
        
      </li>
    
  </ul>
          
        
      </li>
    
    
      <li class="level-0">
        <a href="../../extend" title="Extension Points">Extension Points</a>
        
      </li>
    
    
      <li class="level-0">
        <a href="../../demo" title="Ripla Demo Application">Ripla Demo Application</a>
        
      </li>
    
    
      <li class="level-0">
        <a href="../../downloads" title="Downloads">Downloads</a>
        
      </li>
    
  </ul>
</div>

    </ul>    
  </sidebar>
  
  <section>
  <h1>Ripla Skins</h1>
  <p>To create a skin for a Ripla application, you <em>first</em> have to create
 a bundle fragment containing the layout resources, i.e. style sheets 
and images for the layout you want to use for your application. The <em>second</em> step is to create a skin bundle for your application, i.e. a component containing the service provider for <span class="underline">org.ripla.web.services.ISkin</span> and referencing the skin bundle fragment.</p>

<h2>Layout bundle fragment</h2>

<p>The layout bundle fragment contains the skin's style sheets (css) and images. The fragment host has to be <span class="underline">com.vaadin</span>. Therefore, you have to add an entry like the following to the bundle's <span class="underline">MANIFEST.MF</span>:</p>

<pre>Fragment-Host: com.vaadin 
</pre>

<p>The directory structure of the fragment bundle has to be as follows: <br></p>

<div class="image float-left"><img alt="Skin Fragment" height="181" width="196" src="../../impl/skin/skin_fragment.PNG"></div>

<p>The skin resources have to reside in a subfolder of <span class="underline">VAADIN/themes</span>. The name of this subfolder is important, as it will be the skin identification. In this example, the fragment bundle provides the resources for a skin identified as <span class="underline">org.ripla.web.skin</span>.</p>

<div class="external-source"><div class="clearfloat"></div></div>

<h2>Skin bundle</h2>

<p>The skin bundle's task is to register the skin resources at the Ripla skin registery. To achieve this, the bundle has to provide an implementation of the <span class="underline">org.ripla.services.ISkinService</span> service. The skin bundle's component description (<span class="underline">OSGI-INF/skin.xml</span>) could look as follows:</p>

<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;scr:component xmlns:scr="http://www.osgi.org/xmlns/scr/v1.1.0" name="org.ripla.web.skin"&gt;
&#160;&#160; &lt;implementation class="org.ripla.web.skin.default.Skin"/&gt;
&#160;&#160; &lt;service&gt;
&#160;&#160;&#160;&#160;&#160; &lt;provide interface="org.ripla.services.ISkinService"/&gt;
&#160;&#160; &lt;/service&gt;
&lt;/scr:component&gt;
</pre>

<p>The skin service class has to implement the following interface:</p>

<pre>public interface ISkinService {
&#160;&#160;&#160; String getSkinID();
&#160;&#160;&#160; String getSkinName();
    ISkin createSkin();
} 
</pre>

<p>The important methods are <span class="underline">ISkinService.getSkinID()</span> and <br><span class="underline">ISkinService.createSkin()</span>. The first method has to return the name of the folder containing the skin 
resources in the fragment bundle. In our example, this method has to 
return <span class="underline">org.ripla.web.skin</span>. <span class="underline">ISkinService.createSkin()</span> has to create the skin instance used for the UIs in the application.<br></p>

<pre>public interface ISkin {
&#160;&#160;&#160; boolean hasHeader();
&#160;&#160;&#160; Component getHeader();
&#160;&#160;&#160; boolean hasFooter();
&#160;&#160;&#160; Component getFooter();
&#160;&#160;&#160; boolean hasToolBar();
&#160;&#160;&#160; Label getToolbarSeparator();
&#160;&#160;&#160; boolean hasMenuBar();
&#160;&#160;&#160; HorizontalLayout getMenuBarMedium();&#160;&#160;&#160; 
&#160;&#160;&#160; HorizontalLayout getMenuBar();
    Resource getSubMenuIcon();
}
</pre>

<p>These methods configure aspects of the skin, e.g. whether a header should be displayed or not. If yes, <span class="underline">ISkin.getHeader()</span> has to return the Vaadin component that renders the header view.<br></p>

</section>

  <footer>
    <p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
  </footer>
</div>
<!--[if !IE]><script>fixScale(document);</script><!--<![endif]-->
  
  </body>
</html>
